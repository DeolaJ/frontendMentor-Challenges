"use strict";function handelFormSubmit(e){e.preventDefault(),fetchAlink(urlInput.value),urlInput.value=""}function fetchAlink(e){fetch("https://rel.ink/api/links/",{method:"POST",body:JSON.stringify({url:e}),headers:{"Content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){createLinkItem(e)})}function createNodeWithClassname(e,t){var n=document.createElement(e);return""!==t&&(n.className=t),n}function append(e,t){return e.appendChild(t)}function createLinkItem(e){var t=e.url,n=e.hashid,a=createNodeWithClassname("li","link__wrapper"),i=createNodeWithClassname("a","original__url");i.innerText=i.href=t,append(a,i);var r=createNodeWithClassname("a","shortened__url");r.innerText=r.href="https://rel.ink/"+n,append(a,r);var l=createNodeWithClassname("button","btn");l.dataset.link=r.href,l.addEventListener("click",handelCopyBtn),append(a,l),document.getElementById("js-links").prepend(a)}function handelCopyBtn(e){var t=e.target,n=t.dataset.link;t!==lastCopiedBtn&&(navigator.clipboard.writeText(n),null!==lastCopiedBtn&&lastCopiedBtn.classList.remove("btn--copied"),t.classList.add("btn--copied"),lastCopiedBtn=t)}var urlInput=document.getElementById("js-urlToShorten"),lastCopiedBtn=null;document.getElementById("js-form").addEventListener("submit",handelFormSubmit);
//# sourceMappingURL=app.min.js.map